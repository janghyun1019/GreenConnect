<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="systemSetting">
    <!-- 멤버쉽 설정 조회 -->
    <select id="getMembershipSettings" resultType="SystemSetting">
        SELECT policy
        FROM system_config
        WHERE config_type = 'MEMBERSHIP'
    </select>

    <!-- 사이트 디자인 조회 -->
    <select id="getSiteDesign" resultType="SystemSetting">
        SELECT theme
        FROM system_config
        WHERE config_type = 'DESIGN'
    </select>

    <!-- 배너 목록 조회 -->
    <select id="getBanners" resultType="SystemSetting">
        SELECT banner_id AS bannerId, banner_title AS bannerTitle
        FROM banners
    </select>

    <!-- 서버 상태 조회 -->
    <select id="getServerStatus" resultType="SystemSetting">
        SELECT status
        FROM system_config
        WHERE config_type = 'SERVER'
    </select>

    <!-- 공지사항 목록 조회 -->
    <select id="getNotices" resultType="SystemSetting">
        SELECT notice_id AS noticeId, notice_title AS noticeTitle, notice_content AS noticeContent
        FROM notices
    </select>

    <!-- 공지사항 추가 -->
    <insert id="addNotice" parameterType="SystemSetting">
        INSERT INTO notices (notice_id, notice_title, notice_content, created_at)
        VALUES (notices_seq.NEXTVAL, #{noticeTitle}, #{noticeContent}, SYSTIMESTAMP)
    </insert>
</mapper>